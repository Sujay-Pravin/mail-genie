{"ast":null,"code":"import React,{useState}from'react';import CertificatePreview from'./CertificatePreview.jsx';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const EmailForm=()=>{const[senderEmail,setSenderEmail]=useState('');const[appPassword,setAppPassword]=useState('');const[subject,setSubject]=useState('');const[body,setBody]=useState('');const[previewName,setPreviewName]=useState('Your Name');const[excelFile,setExcelFile]=useState(null);const[templateFile,setTemplateFile]=useState(null);const[font,setFont]=useState(\"Arial\");const[fontSize,setFontSize]=useState(3);const[showConfirmation,setShowConfirmation]=useState(false);const[previewData,setPreviewData]=useState(null);const[error,setError]=useState(null);const[sendingProgress,setSendingProgress]=useState(null);const[successMessage,setSuccessMessage]=useState(null);const[isCancelling,setIsCancelling]=useState(false);const[textColor,setTextColor]=useState(\"#000000\");const[textFields,setTextFields]=useState([{id:1,previewText:'Your Name',headerName:'name',xCoord:1000,endXCoord:1200,yCoord:700,font:'Arial',fontSize:3,textColor:'#000000'}]);const addTextField=()=>{const newId=textFields.length+1;setTextFields([...textFields,{id:newId,previewText:`Preview Text ${newId}`,headerName:'',xCoord:1000,endXCoord:1200,yCoord:700+newId*100,font:'Arial',fontSize:3,textColor:'#000000'}]);};const removeTextField=id=>{setTextFields(textFields.filter(field=>field.id!==id));};const updateTextField=(id,property,value)=>{setTextFields(textFields.map(field=>field.id===id?{...field,[property]:value}:field));};const handleError=error=>{let userMessage=\"\";if(typeof error==='string'){if(error.includes(\"535-5.7.8\")){userMessage=\"Wrong password! Please make sure you're using an App Password from your Google Account settings, not your regular Gmail password.\";}else if(error.includes(\"535\")){userMessage=\"Login failed! Please check your email and App Password. Remember to use an App Password, not your regular Gmail password.\";}else if(error.includes(\"certificate\")){userMessage=\"Certificate generation failed! Please check your template image and text positioning.\";}else if(error.includes(\"columns\")){userMessage=\"Excel file format error! Your file must have columns named exactly 'name' and 'email'.\";}else if(error.includes(\"SMTP\")){userMessage=\"Email server connection failed. Please check your internet connection and try again.\";}else{userMessage=error;}}else{userMessage=\"An unexpected error occurred. Please try again.\";}setError(userMessage);// Scroll to error message\nsetTimeout(()=>{const errorElement=document.querySelector('.error-message');if(errorElement){errorElement.scrollIntoView({behavior:'smooth',block:'center'});}},100);// Auto dismiss after 15 seconds for password errors, 8 seconds for others\nconst timeout=userMessage.includes(\"password\")?15000:8000;setTimeout(()=>setError(null),timeout);};const handleSubmit=async e=>{e.preventDefault();setPreviewData({senderEmail,subject,body,// Add body to previewData\ntemplateFile,textFields// Include all text fields in preview data\n});setShowConfirmation(true);// Scroll to confirmation modal\nsetTimeout(()=>{const modalElement=document.querySelector('.confirmation-content');if(modalElement){modalElement.scrollIntoView({behavior:'smooth',block:'center'});}},100);};const handleConfirmedSubmit=async()=>{setError(null);setSuccessMessage(null);setSendingProgress({total:0,current:0,completed:0,failed:0,currentEmail:'Connecting...',currentName:'',subject:subject,emailBody:body,failedEmails:[]});const eventSource=new EventSource('http://localhost:5000/api/progress');eventSource.onmessage=event=>{const data=JSON.parse(event.data);setSendingProgress(prev=>({...prev,...data}));};eventSource.onerror=()=>{eventSource.close();};try{const formData=new FormData();formData.append('senderEmail',senderEmail);formData.append('appPassword',appPassword);formData.append('subject',subject);formData.append('body',body);formData.append('textFields',JSON.stringify(textFields));formData.append('font',font);formData.append('fontSize',fontSize);formData.append('textColor',textColor);if(excelFile){formData.append('excelFile',excelFile);}if(templateFile){formData.append('templateFile',templateFile);}const response=await fetch('http://localhost:5000/api/sendCertificates',{method:'POST',body:formData});const data=await response.json();if(response.ok){if(data.message===\"Process cancelled\"){setSuccessMessage(`Process cancelled. Sent ${data.successful} certificates.`);}else if(data.failed_details.length>0){setError(`Successfully sent ${data.successful} emails, but failed to send to: ${data.failed_details.map(f=>f[0]).join(\", \")}`);}else{setSuccessMessage(`Successfully sent ${data.successful} certificates!`);}}else{handleError(data.error);}}catch(error){handleError(error.message);}finally{eventSource.close();setShowConfirmation(false);setSendingProgress(null);setIsCancelling(false);}};const handleCancel=async()=>{setIsCancelling(true);try{const response=await fetch('http://localhost:5000/api/cancelSending',{method:'POST'});if(!response.ok){throw new Error('Failed to cancel');}}catch(error){handleError('Failed to cancel the process');}};return/*#__PURE__*/_jsxs(\"div\",{className:\"form-preview-wrapper\",children:[error&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"error-content\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"error-icon\",children:\"\\u26A0\\uFE0F\"}),/*#__PURE__*/_jsx(\"p\",{children:error}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setError(null),className:\"error-close\",children:\"\\xD7\"})]})}),successMessage&&/*#__PURE__*/_jsx(\"div\",{className:\"success-message\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"success-content\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"success-icon\",children:\"\\u2705\"}),/*#__PURE__*/_jsx(\"p\",{children:successMessage}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSuccessMessage(null),className:\"success-close\",children:\"\\xD7\"})]})}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"form-fields\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Email Configuration\"}),/*#__PURE__*/_jsx(\"p\",{className:\"section-desc\",children:\"Configure your email settings\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Sender Email:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",value:senderEmail,onChange:e=>setSenderEmail(e.target.value),placeholder:\"your-email@example.com\",required:true}),/*#__PURE__*/_jsx(\"small\",{children:\"Use your Gmail address\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"App Password:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:appPassword,onChange:e=>setAppPassword(e.target.value),required:true})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Certificate Setup\"}),/*#__PURE__*/_jsx(\"p\",{className:\"section-desc\",children:\"Upload your data and template\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Excel File (xlsx):\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\".xlsx\",onChange:e=>setExcelFile(e.target.files[0]),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Certificate Template:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\"image/*\",onChange:e=>setTemplateFile(e.target.files[0]),required:true})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Email Content\"}),/*#__PURE__*/_jsx(\"p\",{className:\"section-desc\",children:\"Customize your email message\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Subject:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:subject,onChange:e=>setSubject(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Body:\"}),/*#__PURE__*/_jsx(\"textarea\",{value:body,onChange:e=>setBody(e.target.value),required:true,rows:\"4\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-fields-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Text Positioning\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:addTextField,className:\"add-text-field-button\",children:\"+ Add Text Field\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"section-desc\",children:\"Add and configure text placement from Excel headers\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-positioning-layout\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-fields-container\",children:textFields.map(field=>/*#__PURE__*/_jsxs(\"div\",{className:\"text-field-group\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-field-header\",children:[/*#__PURE__*/_jsxs(\"h4\",{children:[\"Text Field \",field.id]}),field.id!==1&&/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>removeTextField(field.id),className:\"remove-text-field-button\",children:\"\\xD7\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"coordinate-inputs\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Excel Header:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:field.headerName,onChange:e=>updateTextField(field.id,'headerName',e.target.value),placeholder:\"Excel column header\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Preview Text:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:field.previewText,onChange:e=>updateTextField(field.id,'previewText',e.target.value),placeholder:\"Preview text\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Start X:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:field.xCoord,onChange:e=>updateTextField(field.id,'xCoord',Number(e.target.value)),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"End X:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:field.endXCoord,onChange:e=>updateTextField(field.id,'endXCoord',Number(e.target.value)),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Y Coordinate:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:field.yCoord,onChange:e=>updateTextField(field.id,'yCoord',Number(e.target.value)),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Font Style:\"}),/*#__PURE__*/_jsxs(\"select\",{value:field.font,onChange:e=>updateTextField(field.id,'font',e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"Arial\",children:\"Arial\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Times New Roman\",children:\"Times New Roman\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Courier New\",children:\"Courier New\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Georgia\",children:\"Georgia\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Verdana\",children:\"Verdana\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Impact\",children:\"Impact\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Font Size:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:\"1\",max:\"10\",step:\"0.1\",value:field.fontSize,onChange:e=>updateTextField(field.id,'fontSize',parseFloat(e.target.value))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Text Color:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"color\",value:field.textColor,onChange:e=>updateTextField(field.id,'textColor',e.target.value),className:\"color-picker\"})]})]})]},field.id))}),/*#__PURE__*/_jsxs(\"div\",{className:\"preview-container\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Live Preview\"}),/*#__PURE__*/_jsx(CertificatePreview,{templateFile:templateFile,textFields:textFields})]})]})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"submit-button\",children:\"Generate & Send Certificates\"})]}),showConfirmation&&/*#__PURE__*/_jsx(\"div\",{className:\"confirmation-modal\",children:/*#__PURE__*/_jsx(\"div\",{className:\"confirmation-content\",children:sendingProgress?/*#__PURE__*/_jsxs(\"div\",{className:\"sending-progress-compact\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"progress-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Sending Certificates...\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"stats-bar\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"Total: \",sendingProgress.total]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Completed: \",sendingProgress.completed]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Failed: \",sendingProgress.failed]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"progress-bar\",children:/*#__PURE__*/_jsx(\"div\",{className:\"progress-fill\",style:{width:`${sendingProgress.completed/sendingProgress.total*100}%`}})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"progress-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"status-panel\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"current-status\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Current Recipient\"}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Name:\"}),\" \",sendingProgress.currentName||'N/A']}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Email:\"}),\" \",sendingProgress.currentEmail]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"email-preview-compact\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Email Details\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"preview-content\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"From:\"}),\" \",senderEmail]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Subject:\"}),\" \",subject]}),/*#__PURE__*/_jsxs(\"div\",{className:\"email-body\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Body:\"}),/*#__PURE__*/_jsx(\"pre\",{children:body})]})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleCancel,disabled:isCancelling,className:\"cancel-sending-button\",children:isCancelling?'Cancelling...':'Cancel Sending'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"preview-panel\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Certificate Preview\"}),/*#__PURE__*/_jsx(\"div\",{className:\"certificate-preview-section\",children:sendingProgress.currentName&&/*#__PURE__*/_jsx(CertificatePreview,{templateFile:templateFile,textFields:textFields.map(field=>({...field,previewText:field.headerName==='name'?sendingProgress.currentName:field.previewText}))})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-panel\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Failed Emails\"}),/*#__PURE__*/_jsx(\"div\",{className:\"failed-list-compact\",children:sendingProgress.failedEmails.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"scroll-content\",children:sendingProgress.failedEmails.map((email,index)=>/*#__PURE__*/_jsx(\"div\",{className:\"failed-item\",children:email},index))}):/*#__PURE__*/_jsx(\"p\",{children:\"No failed emails yet\"})})]})]})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Confirm Email Send\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Are you sure you want to send certificates to all recipients?\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"confirmation-details\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"From:\"}),\" \",previewData.senderEmail]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Subject:\"}),\" \",previewData.subject]}),/*#__PURE__*/_jsxs(\"div\",{className:\"email-body-preview\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Email Body:\"}),/*#__PURE__*/_jsx(\"pre\",{children:previewData.body})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"certificate-preview-container\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Certificate Preview\"}),/*#__PURE__*/_jsx(\"div\",{className:\"confirmation-preview\",children:/*#__PURE__*/_jsx(CertificatePreview,{templateFile:previewData.templateFile,textFields:previewData.textFields})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"confirmation-actions\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleConfirmedSubmit,className:\"confirm-button\",children:\"Yes, Send Emails\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowConfirmation(false),className:\"cancel-button\",children:\"Cancel\"})]})]})})})]});};export default EmailForm;","map":{"version":3,"names":["React","useState","CertificatePreview","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","EmailForm","senderEmail","setSenderEmail","appPassword","setAppPassword","subject","setSubject","body","setBody","previewName","setPreviewName","excelFile","setExcelFile","templateFile","setTemplateFile","font","setFont","fontSize","setFontSize","showConfirmation","setShowConfirmation","previewData","setPreviewData","error","setError","sendingProgress","setSendingProgress","successMessage","setSuccessMessage","isCancelling","setIsCancelling","textColor","setTextColor","textFields","setTextFields","id","previewText","headerName","xCoord","endXCoord","yCoord","addTextField","newId","length","removeTextField","filter","field","updateTextField","property","value","map","handleError","userMessage","includes","setTimeout","errorElement","document","querySelector","scrollIntoView","behavior","block","timeout","handleSubmit","e","preventDefault","modalElement","handleConfirmedSubmit","total","current","completed","failed","currentEmail","currentName","emailBody","failedEmails","eventSource","EventSource","onmessage","event","data","JSON","parse","prev","onerror","close","formData","FormData","append","stringify","response","fetch","method","json","ok","message","successful","failed_details","f","join","handleCancel","Error","className","children","onClick","onSubmit","type","onChange","target","placeholder","required","accept","files","rows","Number","min","max","step","parseFloat","style","width","disabled","email","index"],"sources":["C:/Users/sujay/OneDrive/Desktop/vertex-mail-gen/frontend/src/components/EmailForm.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport CertificatePreview from './CertificatePreview.jsx';\r\n\r\nconst EmailForm = () => {\r\n  const [senderEmail, setSenderEmail] = useState('');\r\n  const [appPassword, setAppPassword] = useState('');\r\n  const [subject, setSubject] = useState('');\r\n  const [body, setBody] = useState('');\r\n  const [previewName, setPreviewName] = useState('Your Name');\r\n  const [excelFile, setExcelFile] = useState(null);\r\n  const [templateFile, setTemplateFile] = useState(null);\r\n  const [font, setFont] = useState(\"Arial\");\r\n  const [fontSize, setFontSize] = useState(3);\r\n  const [showConfirmation, setShowConfirmation] = useState(false);\r\n  const [previewData, setPreviewData] = useState(null);\r\n  const [error, setError] = useState(null);\r\n  const [sendingProgress, setSendingProgress] = useState(null);\r\n  const [successMessage, setSuccessMessage] = useState(null);\r\n  const [isCancelling, setIsCancelling] = useState(false);\r\n  const [textColor, setTextColor] = useState(\"#000000\");\r\n  const [textFields, setTextFields] = useState([\r\n    { \r\n      id: 1, \r\n      previewText: 'Your Name', \r\n      headerName: 'name', \r\n      xCoord: 1000, \r\n      endXCoord: 1200, \r\n      yCoord: 700,\r\n      font: 'Arial',\r\n      fontSize: 3,\r\n      textColor: '#000000'\r\n    }\r\n  ]);\r\n\r\n  const addTextField = () => {\r\n    const newId = textFields.length + 1;\r\n    setTextFields([...textFields, {\r\n      id: newId,\r\n      previewText: `Preview Text ${newId}`,\r\n      headerName: '',\r\n      xCoord: 1000,\r\n      endXCoord: 1200,\r\n      yCoord: 700 + (newId * 100),\r\n      font: 'Arial',\r\n      fontSize: 3,\r\n      textColor: '#000000'\r\n    }]);\r\n  };\r\n\r\n  const removeTextField = (id) => {\r\n    setTextFields(textFields.filter(field => field.id !== id));\r\n  };\r\n\r\n  const updateTextField = (id, property, value) => {\r\n    setTextFields(textFields.map(field => \r\n      field.id === id ? { ...field, [property]: value } : field\r\n    ));\r\n  };\r\n\r\n  const handleError = (error) => {\r\n    let userMessage = \"\";\r\n    \r\n    if (typeof error === 'string') {\r\n      if (error.includes(\"535-5.7.8\")) {\r\n        userMessage = \"Wrong password! Please make sure you're using an App Password from your Google Account settings, not your regular Gmail password.\";\r\n      } else if (error.includes(\"535\")) {\r\n        userMessage = \"Login failed! Please check your email and App Password. Remember to use an App Password, not your regular Gmail password.\";\r\n      } else if (error.includes(\"certificate\")) {\r\n        userMessage = \"Certificate generation failed! Please check your template image and text positioning.\";\r\n      } else if (error.includes(\"columns\")) {\r\n        userMessage = \"Excel file format error! Your file must have columns named exactly 'name' and 'email'.\";\r\n      } else if (error.includes(\"SMTP\")) {\r\n        userMessage = \"Email server connection failed. Please check your internet connection and try again.\";\r\n      } else {\r\n        userMessage = error;\r\n      }\r\n    } else {\r\n      userMessage = \"An unexpected error occurred. Please try again.\";\r\n    }\r\n    \r\n    setError(userMessage);\r\n    // Scroll to error message\r\n    setTimeout(() => {\r\n      const errorElement = document.querySelector('.error-message');\r\n      if (errorElement) {\r\n        errorElement.scrollIntoView({ behavior: 'smooth', block: 'center' });\r\n      }\r\n    }, 100);\r\n\r\n    // Auto dismiss after 15 seconds for password errors, 8 seconds for others\r\n    const timeout = userMessage.includes(\"password\") ? 15000 : 8000;\r\n    setTimeout(() => setError(null), timeout);\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setPreviewData({\r\n      senderEmail,\r\n      subject,\r\n      body,        // Add body to previewData\r\n      templateFile,\r\n      textFields,  // Include all text fields in preview data\r\n    });\r\n    setShowConfirmation(true);\r\n\r\n    // Scroll to confirmation modal\r\n    setTimeout(() => {\r\n      const modalElement = document.querySelector('.confirmation-content');\r\n      if (modalElement) {\r\n        modalElement.scrollIntoView({ behavior: 'smooth', block: 'center' });\r\n      }\r\n    }, 100);\r\n  };\r\n\r\n  const handleConfirmedSubmit = async () => {\r\n    setError(null);\r\n    setSuccessMessage(null);\r\n    setSendingProgress({\r\n      total: 0,\r\n      current: 0,\r\n      completed: 0,\r\n      failed: 0,\r\n      currentEmail: 'Connecting...',\r\n      currentName: '',\r\n      subject: subject,\r\n      emailBody: body,\r\n      failedEmails: []\r\n    });\r\n\r\n    const eventSource = new EventSource('http://localhost:5000/api/progress');\r\n    \r\n    eventSource.onmessage = (event) => {\r\n      const data = JSON.parse(event.data);\r\n      setSendingProgress(prev => ({\r\n        ...prev,\r\n        ...data\r\n      }));\r\n    };\r\n\r\n    eventSource.onerror = () => {\r\n      eventSource.close();\r\n    };\r\n\r\n    try {\r\n      const formData = new FormData();\r\n      formData.append('senderEmail', senderEmail);\r\n      formData.append('appPassword', appPassword);\r\n      formData.append('subject', subject);\r\n      formData.append('body', body);\r\n      formData.append('textFields', JSON.stringify(textFields));\r\n      formData.append('font', font);\r\n      formData.append('fontSize', fontSize);\r\n      formData.append('textColor', textColor);\r\n      if (excelFile) {\r\n        formData.append('excelFile', excelFile);\r\n      }\r\n      if (templateFile) {\r\n        formData.append('templateFile', templateFile);\r\n      }\r\n\r\n      const response = await fetch('http://localhost:5000/api/sendCertificates', {\r\n        method: 'POST',\r\n        body: formData,\r\n      });\r\n      \r\n      const data = await response.json();\r\n      \r\n      if (response.ok) {\r\n        if (data.message === \"Process cancelled\") {\r\n          setSuccessMessage(`Process cancelled. Sent ${data.successful} certificates.`);\r\n        } else if (data.failed_details.length > 0) {\r\n          setError(`Successfully sent ${data.successful} emails, but failed to send to: ${data.failed_details.map(f => f[0]).join(\", \")}`);\r\n        } else {\r\n          setSuccessMessage(`Successfully sent ${data.successful} certificates!`);\r\n        }\r\n      } else {\r\n        handleError(data.error);\r\n      }\r\n    } catch (error) {\r\n      handleError(error.message);\r\n    } finally {\r\n      eventSource.close();\r\n      setShowConfirmation(false);\r\n      setSendingProgress(null);\r\n      setIsCancelling(false);\r\n    }\r\n  };\r\n\r\n  const handleCancel = async () => {\r\n    setIsCancelling(true);\r\n    try {\r\n      const response = await fetch('http://localhost:5000/api/cancelSending', {\r\n        method: 'POST'\r\n      });\r\n      if (!response.ok) {\r\n        throw new Error('Failed to cancel');\r\n      }\r\n    } catch (error) {\r\n      handleError('Failed to cancel the process');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"form-preview-wrapper\">\r\n      {error && (\r\n        <div className=\"error-message\">\r\n          <div className=\"error-content\">\r\n            <span className=\"error-icon\">⚠️</span>\r\n            <p>{error}</p>\r\n            <button onClick={() => setError(null)} className=\"error-close\">×</button>\r\n          </div>\r\n        </div>\r\n      )}\r\n      {successMessage && (\r\n        <div className=\"success-message\">\r\n          <div className=\"success-content\">\r\n            <span className=\"success-icon\">✅</span>\r\n            <p>{successMessage}</p>\r\n            <button onClick={() => setSuccessMessage(null)} className=\"success-close\">×</button>\r\n          </div>\r\n        </div>\r\n      )}\r\n      <form onSubmit={handleSubmit} className=\"form-fields\">\r\n        <div className=\"form-grid\">\r\n          {/* Email Configuration Section */}\r\n          <div className=\"form-section\">\r\n            <h3>Email Configuration</h3>\r\n            <p className=\"section-desc\">Configure your email settings</p>\r\n            <div className=\"input-group\">\r\n              <label>Sender Email:</label>\r\n              <input\r\n                type=\"email\"\r\n                value={senderEmail}\r\n                onChange={(e) => setSenderEmail(e.target.value)}\r\n                placeholder=\"your-email@example.com\"\r\n                required\r\n              />\r\n              <small>Use your Gmail address</small>\r\n            </div>\r\n            <div className=\"input-group\">\r\n              <label>App Password:</label>\r\n              <input\r\n                type=\"password\"\r\n                value={appPassword}\r\n                onChange={(e) => setAppPassword(e.target.value)}\r\n                required\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          {/* Certificate Setup Section */}\r\n          <div className=\"form-section\">\r\n            <h3>Certificate Setup</h3>\r\n            <p className=\"section-desc\">Upload your data and template</p>\r\n            <div className=\"input-group\">\r\n              <label>Excel File (xlsx):</label>\r\n              <input\r\n                type=\"file\"\r\n                accept=\".xlsx\"\r\n                onChange={(e) => setExcelFile(e.target.files[0])}\r\n                required\r\n              />\r\n            </div>\r\n            <div className=\"input-group\">\r\n              <label>Certificate Template:</label>\r\n              <input\r\n                type=\"file\"\r\n                accept=\"image/*\"\r\n                onChange={(e) => setTemplateFile(e.target.files[0])}\r\n                required\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Email Content Section */}\r\n        <div className=\"form-section\">\r\n          <h3>Email Content</h3>\r\n          <p className=\"section-desc\">Customize your email message</p>\r\n          <div className=\"input-group\">\r\n            <label>Subject:</label>\r\n            <input\r\n              type=\"text\"\r\n              value={subject}\r\n              onChange={(e) => setSubject(e.target.value)}\r\n              required\r\n            />\r\n          </div>\r\n          <div className=\"input-group\">\r\n            <label>Body:</label>\r\n            <textarea\r\n              value={body}\r\n              onChange={(e) => setBody(e.target.value)}\r\n              required\r\n              rows=\"4\"\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        {/* Text Fields Section */}\r\n        <div className=\"form-section\">\r\n          <div className=\"text-fields-header\">\r\n            <h3>Text Positioning</h3>\r\n            <button \r\n              type=\"button\" \r\n              onClick={addTextField}\r\n              className=\"add-text-field-button\"\r\n            >\r\n              + Add Text Field\r\n            </button>\r\n          </div>\r\n          <p className=\"section-desc\">Add and configure text placement from Excel headers</p>\r\n\r\n          <div className=\"text-positioning-layout\">\r\n            <div className=\"text-fields-container\">\r\n              {textFields.map((field) => (\r\n                <div key={field.id} className=\"text-field-group\">\r\n                  <div className=\"text-field-header\">\r\n                    <h4>Text Field {field.id}</h4>\r\n                    {field.id !== 1 && (\r\n                      <button\r\n                        type=\"button\"\r\n                        onClick={() => removeTextField(field.id)}\r\n                        className=\"remove-text-field-button\"\r\n                      >\r\n                        ×\r\n                      </button>\r\n                    )}\r\n                  </div>\r\n\r\n                  <div className=\"coordinate-inputs\">\r\n                    <div className=\"input-group\">\r\n                      <label>Excel Header:</label>\r\n                      <input\r\n                        type=\"text\"\r\n                        value={field.headerName}\r\n                        onChange={(e) => updateTextField(field.id, 'headerName', e.target.value)}\r\n                        placeholder=\"Excel column header\"\r\n                        required\r\n                      />\r\n                    </div>\r\n                    <div className=\"input-group\">\r\n                      <label>Preview Text:</label>\r\n                      <input\r\n                        type=\"text\"\r\n                        value={field.previewText}\r\n                        onChange={(e) => updateTextField(field.id, 'previewText', e.target.value)}\r\n                        placeholder=\"Preview text\"\r\n                      />\r\n                    </div>\r\n                    <div className=\"input-group\">\r\n                      <label>Start X:</label>\r\n                      <input\r\n                        type=\"number\"\r\n                        value={field.xCoord}\r\n                        onChange={(e) => updateTextField(field.id, 'xCoord', Number(e.target.value))}\r\n                        required\r\n                      />\r\n                    </div>\r\n                    <div className=\"input-group\">\r\n                      <label>End X:</label>\r\n                      <input\r\n                        type=\"number\"\r\n                        value={field.endXCoord}\r\n                        onChange={(e) => updateTextField(field.id, 'endXCoord', Number(e.target.value))}\r\n                        required\r\n                      />\r\n                    </div>\r\n                    <div className=\"input-group\">\r\n                      <label>Y Coordinate:</label>\r\n                      <input\r\n                        type=\"number\"\r\n                        value={field.yCoord}\r\n                        onChange={(e) => updateTextField(field.id, 'yCoord', Number(e.target.value))}\r\n                        required\r\n                      />\r\n                    </div>\r\n                    {/* Font controls for each field */}\r\n                    <div className=\"input-group\">\r\n                      <label>Font Style:</label>\r\n                      <select \r\n                        value={field.font} \r\n                        onChange={(e) => updateTextField(field.id, 'font', e.target.value)}\r\n                      >\r\n                        <option value=\"Arial\">Arial</option>\r\n                        <option value=\"Times New Roman\">Times New Roman</option>\r\n                        <option value=\"Courier New\">Courier New</option>\r\n                        <option value=\"Georgia\">Georgia</option>\r\n                        <option value=\"Verdana\">Verdana</option>\r\n                        <option value=\"Impact\">Impact</option>\r\n                      </select>\r\n                    </div>\r\n                    <div className=\"input-group\">\r\n                      <label>Font Size:</label>\r\n                      <input\r\n                        type=\"number\"\r\n                        min=\"1\"\r\n                        max=\"10\"\r\n                        step=\"0.1\"\r\n                        value={field.fontSize}\r\n                        onChange={(e) => updateTextField(field.id, 'fontSize', parseFloat(e.target.value))}\r\n                      />\r\n                    </div>\r\n                    <div className=\"input-group\">\r\n                      <label>Text Color:</label>\r\n                      <input\r\n                        type=\"color\"\r\n                        value={field.textColor}\r\n                        onChange={(e) => updateTextField(field.id, 'textColor', e.target.value)}\r\n                        className=\"color-picker\"\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n            \r\n            <div className=\"preview-container\">\r\n              <h4>Live Preview</h4>\r\n              <CertificatePreview\r\n                templateFile={templateFile}\r\n                textFields={textFields}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <button type=\"submit\" className=\"submit-button\">\r\n          Generate & Send Certificates\r\n        </button>\r\n      </form>\r\n\r\n      {showConfirmation && (\r\n        <div className=\"confirmation-modal\">\r\n          <div className=\"confirmation-content\">\r\n            {sendingProgress ? (\r\n              <div className=\"sending-progress-compact\">\r\n                <div className=\"progress-header\">\r\n                  <h2>Sending Certificates...</h2>\r\n                  <div className=\"stats-bar\">\r\n                    <span>Total: {sendingProgress.total}</span>\r\n                    <span>Completed: {sendingProgress.completed}</span>\r\n                    <span>Failed: {sendingProgress.failed}</span>\r\n                  </div>\r\n                  <div className=\"progress-bar\">\r\n                    <div \r\n                      className=\"progress-fill\" \r\n                      style={{ width: `${(sendingProgress.completed / sendingProgress.total) * 100}%` }}\r\n                    />\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"progress-content\">\r\n                  <div className=\"status-panel\">\r\n                    <div className=\"current-status\">\r\n                      <h4>Current Recipient</h4>\r\n                      <p><strong>Name:</strong> {sendingProgress.currentName || 'N/A'}</p>\r\n                      <p><strong>Email:</strong> {sendingProgress.currentEmail}</p>\r\n                    </div>\r\n\r\n                    <div className=\"email-preview-compact\">\r\n                      <h4>Email Details</h4>\r\n                      <div className=\"preview-content\">\r\n                        <p><strong>From:</strong> {senderEmail}</p>\r\n                        <p><strong>Subject:</strong> {subject}</p>\r\n                        <div className=\"email-body\">\r\n                          <strong>Body:</strong>\r\n                          <pre>{body}</pre>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <button \r\n                      onClick={handleCancel}\r\n                      disabled={isCancelling}\r\n                      className=\"cancel-sending-button\"\r\n                    >\r\n                      {isCancelling ? 'Cancelling...' : 'Cancel Sending'}\r\n                    </button>\r\n                  </div>\r\n\r\n                  <div className=\"preview-panel\">\r\n                    <h4>Certificate Preview</h4>\r\n                    <div className=\"certificate-preview-section\">\r\n                      {sendingProgress.currentName && (\r\n                        <CertificatePreview\r\n                          templateFile={templateFile}\r\n                          textFields={textFields.map(field => ({\r\n                            ...field,\r\n                            previewText: field.headerName === 'name' ? \r\n                              sendingProgress.currentName : \r\n                              field.previewText\r\n                          }))}\r\n                        />\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"info-panel\">\r\n                    <h4>Failed Emails</h4>\r\n                    <div className=\"failed-list-compact\">\r\n                      {sendingProgress.failedEmails.length > 0 ? (\r\n                        <div className=\"scroll-content\">\r\n                          {sendingProgress.failedEmails.map((email, index) => (\r\n                            <div key={index} className=\"failed-item\">{email}</div>\r\n                          ))}\r\n                        </div>\r\n                      ) : (\r\n                        <p>No failed emails yet</p>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ) : (\r\n              <>\r\n                <h2>Confirm Email Send</h2>\r\n                <p>Are you sure you want to send certificates to all recipients?</p>\r\n                \r\n                <div className=\"confirmation-details\">\r\n                  <p><strong>From:</strong> {previewData.senderEmail}</p>\r\n                  <p><strong>Subject:</strong> {previewData.subject}</p>\r\n                  <div className=\"email-body-preview\">\r\n                    <strong>Email Body:</strong>\r\n                    <pre>{previewData.body}</pre>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"certificate-preview-container\">\r\n                  <h3>Certificate Preview</h3>\r\n                  <div className=\"confirmation-preview\">\r\n                    <CertificatePreview\r\n                      templateFile={previewData.templateFile}\r\n                      textFields={previewData.textFields}\r\n                    />\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"confirmation-actions\">\r\n                  <button onClick={handleConfirmedSubmit} className=\"confirm-button\">\r\n                    Yes, Send Emails\r\n                  </button>\r\n                  <button onClick={() => setShowConfirmation(false)} className=\"cancel-button\">\r\n                    Cancel\r\n                  </button>\r\n                </div>\r\n              </>\r\n            )}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EmailForm;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}